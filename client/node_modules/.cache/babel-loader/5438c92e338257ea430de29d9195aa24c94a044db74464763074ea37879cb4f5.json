{"ast":null,"code":"import { createElementVNode as _createElementVNode, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, toDisplayString as _toDisplayString, createCommentVNode as _createCommentVNode } from \"vue\";\nconst _hoisted_1 = {\n  class: \"container\"\n};\nconst _hoisted_2 = {\n  class: \"row\"\n};\nconst _hoisted_3 = {\n  class: \"col\"\n};\nconst _hoisted_4 = /*#__PURE__*/_createElementVNode(\"h1\", {\n  class: \"mt-3\"\n}, \"All Bills\", -1 /* HOISTED */);\nconst _hoisted_5 = /*#__PURE__*/_createElementVNode(\"hr\", null, null, -1 /* HOISTED */);\nconst _hoisted_6 = {\n  key: 0,\n  class: \"table table-compact table-scriped\"\n};\nconst _hoisted_7 = /*#__PURE__*/_createElementVNode(\"thead\", null, [/*#__PURE__*/_createElementVNode(\"th\", null, \"From\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Until\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Spend Amount\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Payment Amount\"), /*#__PURE__*/_createElementVNode(\"th\", null, \"Status\")], -1 /* HOISTED */);\nconst _hoisted_8 = [\"onClick\"];\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createElementVNode(\"div\", _hoisted_2, [_createElementVNode(\"div\", _hoisted_3, [_hoisted_4, _hoisted_5, this.ready ? (_openBlock(), _createElementBlock(\"table\", _hoisted_6, [_hoisted_7, _createElementVNode(\"tbody\", null, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList($data.bills, bill => {\n    return _openBlock(), _createElementBlock(\"tr\", {\n      key: bill.id\n    }, [_createElementVNode(\"td\", null, _toDisplayString(new Date(bill.from).toLocaleString()), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(new Date(bill.until).toLocaleString()), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(bill.spend_amount), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(bill.payment_amount), 1 /* TEXT */), _createElementVNode(\"td\", null, _toDisplayString(bill.paid === true ? \"Paid\" : \"Unpaid\"), 1 /* TEXT */), bill.paid === false ? (_openBlock(), _createElementBlock(\"td\", {\n      key: 0,\n      class: \"text-success\",\n      onClick: $event => _ctx.pay(bill.id)\n    }, \"Pay\", 8 /* PROPS */, _hoisted_8)) : _createCommentVNode(\"v-if\", true)]);\n  }), 128 /* KEYED_FRAGMENT */))])])) : _createCommentVNode(\"v-if\", true)])])]);\n}","map":{"version":3,"names":["class","_createElementVNode","_createElementBlock","_hoisted_1","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","ready","_hoisted_6","_hoisted_7","_Fragment","_renderList","$data","bills","bill","key","id","_toDisplayString","Date","from","toLocaleString","until","spend_amount","payment_amount","paid","onClick","$event","_ctx","pay","_hoisted_8"],"sources":["/home/khalid/uni/6thsem/cp_db/new_code/client/src/components/ClientBills.vue"],"sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\">\n      <div class=\"col\">\n        <h1 class=\"mt-3\">All Bills</h1>\n        <hr />\n\n        <table v-if=\"this.ready\" class=\"table table-compact table-scriped\">\n          <thead>\n            <th>From</th>\n            <th>Until</th>\n            <th>Spend Amount</th>\n            <th>Payment Amount</th>\n            <th>Status</th>\n          </thead>\n          <tbody>\n            <tr v-for=\"bill in bills\" :key=\"bill.id\">\n              <td>{{ new Date(bill.from).toLocaleString() }}</td>\n              <td>{{ new Date(bill.until).toLocaleString() }}</td>\n              <td>{{ bill.spend_amount }}</td>\n              <td>{{ bill.payment_amount }}</td>\n              <td>{{ bill.paid === true ? \"Paid\" : \"Unpaid\" }}</td>\n              <td v-if=\"bill.paid === false\" class=\"text-success\" @click=\"pay(bill.id)\">Pay</td>\n            </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Security from \"./security.js\";\nimport { store } from \"./store.js\";\nexport default {\n  name: \"ClientBills\",\n  data() {\n    return {\n      bills: [],\n      ready: false,\n      store,\n    };\n  },\n  beforeMount() {\n    fetch(\n      `${process.env.VUE_APP_SERVER_API}/bills?aprId=${this.$route.params.aprId}`,\n      Security.requestOptionsWithoutBody()\n    )\n      .then((response) => response.json())\n      .then((response) => {\n        if (response.error) {\n          this.$emit(\"error\", response.error.message);\n        } else {\n          this.bills = response.data;\n          this.ready = true;\n        }\n      })\n      .catch((error) => {\n        this.$emit(\"error\", error.message);\n      });\n  },\n};\n</script>"],"mappings":";;EACOA,KAAK,EAAC;AAAW;;EACfA,KAAK,EAAC;AAAK;;EACTA,KAAK,EAAC;AAAK;gCACdC,mBAAA,CAA+B;EAA3BD,KAAK,EAAC;AAAM,GAAC,WAAS;gCAC1BC,mBAAA,CAAM;;;EAEmBD,KAAK,EAAC;;gCAC7BC,mBAAA,CAMQ,gB,aALNA,mBAAA,CAAa,YAAT,MAAI,G,aACRA,mBAAA,CAAc,YAAV,OAAK,G,aACTA,mBAAA,CAAqB,YAAjB,cAAY,G,aAChBA,mBAAA,CAAuB,YAAnB,gBAAc,G,aAClBA,mBAAA,CAAe,YAAX,QAAM,E;;;uBAZpBC,mBAAA,CA2BM,OA3BNC,UA2BM,GA1BJF,mBAAA,CAyBM,OAzBNG,UAyBM,GAxBJH,mBAAA,CAuBM,OAvBNI,UAuBM,GAtBJC,UAA+B,EAC/BC,UAAM,E,KAEYC,KAAK,I,cAAvBN,mBAAA,CAkBQ,SAlBRO,UAkBQ,GAjBNC,UAMQ,EACRT,mBAAA,CASQ,iB,kBARNC,mBAAA,CAOKS,SAAA,QAAAC,WAAA,CAPcC,KAAA,CAAAC,KAAK,EAAbC,IAAI;yBAAfb,mBAAA,CAOK;MAPsBc,GAAG,EAAED,IAAI,CAACE;QACnChB,mBAAA,CAAmD,YAAAiB,gBAAA,KAAxCC,IAAI,CAACJ,IAAI,CAACK,IAAI,EAAEC,cAAc,oBACzCpB,mBAAA,CAAoD,YAAAiB,gBAAA,KAAzCC,IAAI,CAACJ,IAAI,CAACO,KAAK,EAAED,cAAc,oBAC1CpB,mBAAA,CAAgC,YAAAiB,gBAAA,CAAzBH,IAAI,CAACQ,YAAY,kBACxBtB,mBAAA,CAAkC,YAAAiB,gBAAA,CAA3BH,IAAI,CAACS,cAAc,kBAC1BvB,mBAAA,CAAqD,YAAAiB,gBAAA,CAA9CH,IAAI,CAACU,IAAI,+CACNV,IAAI,CAACU,IAAI,c,cAAnBvB,mBAAA,CAAkF;;MAAnDF,KAAK,EAAC,cAAc;MAAE0B,OAAK,EAAAC,MAAA,IAAEC,IAAA,CAAAC,GAAG,CAACd,IAAI,CAACE,EAAE;OAAG,KAAG,iBAAAa,UAAA,K"},"metadata":{},"sourceType":"module","externalDependencies":[]}
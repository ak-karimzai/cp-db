{"ast":null,"code":"import { store } from \"./store\";\nlet Security = {\n  saveToken: token => {\n    let date = new Date();\n    let expDays = 30;\n    data.setTime(data.getTime() + expDays * 24 * 60 * 60 * 1000);\n    const expires = \"expires=\" + data.toUTCString();\n    document.cookie = \"token=\" + JSON.stringify(token) + \";\" + expires + \";path=/\" + \";\" + \"SameSite=Strict;\" + \"Secure\";\n  },\n  checkToken: () => {\n    if (store.token !== \"\") {\n      const payload = {\n        token: store.token\n      };\n      const headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n      let requestOptions = {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify(payload)\n      };\n\n      // fetch(`${process.env.VUE_APP_SERVER_API}/auth/check`, requestOptions).then((response) => {\n      //   return response.json();\n      // }).then((data) => {\n      //   //\n      // })\n    }\n  }\n};\n\nexport default Security;","map":{"version":3,"names":["store","Security","saveToken","token","date","Date","expDays","data","setTime","getTime","expires","toUTCString","document","cookie","JSON","stringify","checkToken","payload","headers","Headers","append","requestOptions","method","body"],"sources":["/home/khalid/uni/6thsem/cp_db/new_code/client/src/components/security.js"],"sourcesContent":["import { store } from \"./store\";\n\nlet Security = {\n  saveToken: (token) => {\n    let date = new Date();\n    let expDays = 30;\n    data.setTime(data.getTime() + expDays * 24 * 60 * 60 * 1000);\n    const expires = \"expires=\" + data.toUTCString();\n    document.cookie =\n      \"token=\" +\n      JSON.stringify(token) +\n      \";\" +\n      expires +\n      \";path=/\" +\n      \";\" +\n      \"SameSite=Strict;\" +\n      \"Secure\";\n  },\n  checkToken: () => {\n    if (store.token !== \"\") {\n      const payload = {\n        token: store.token,\n      }\n\n      const headers = new Headers();\n      headers.append('Content-Type', 'application/json');\n\n      let requestOptions = {\n        method: 'POST',\n        headers: headers,\n        body: JSON.stringify(payload),\n      }\n\n      // fetch(`${process.env.VUE_APP_SERVER_API}/auth/check`, requestOptions).then((response) => {\n      //   return response.json();\n      // }).then((data) => {\n      //   //\n      // })\n    }\n  }\n};\n\nexport default Security;\n"],"mappings":"AAAA,SAASA,KAAK,QAAQ,SAAS;AAE/B,IAAIC,QAAQ,GAAG;EACbC,SAAS,EAAGC,KAAK,IAAK;IACpB,IAAIC,IAAI,GAAG,IAAIC,IAAI,CAAC,CAAC;IACrB,IAAIC,OAAO,GAAG,EAAE;IAChBC,IAAI,CAACC,OAAO,CAACD,IAAI,CAACE,OAAO,CAAC,CAAC,GAAGH,OAAO,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,IAAI,CAAC;IAC5D,MAAMI,OAAO,GAAG,UAAU,GAAGH,IAAI,CAACI,WAAW,CAAC,CAAC;IAC/CC,QAAQ,CAACC,MAAM,GACb,QAAQ,GACRC,IAAI,CAACC,SAAS,CAACZ,KAAK,CAAC,GACrB,GAAG,GACHO,OAAO,GACP,SAAS,GACT,GAAG,GACH,kBAAkB,GAClB,QAAQ;EACZ,CAAC;EACDM,UAAU,EAAEA,CAAA,KAAM;IAChB,IAAIhB,KAAK,CAACG,KAAK,KAAK,EAAE,EAAE;MACtB,MAAMc,OAAO,GAAG;QACdd,KAAK,EAAEH,KAAK,CAACG;MACf,CAAC;MAED,MAAMe,OAAO,GAAG,IAAIC,OAAO,CAAC,CAAC;MAC7BD,OAAO,CAACE,MAAM,CAAC,cAAc,EAAE,kBAAkB,CAAC;MAElD,IAAIC,cAAc,GAAG;QACnBC,MAAM,EAAE,MAAM;QACdJ,OAAO,EAAEA,OAAO;QAChBK,IAAI,EAAET,IAAI,CAACC,SAAS,CAACE,OAAO;MAC9B,CAAC;;MAED;MACA;MACA;MACA;MACA;IACF;EACF;AACF,CAAC;;AAED,eAAehB,QAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}